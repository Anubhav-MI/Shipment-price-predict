<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shipping Cost Prediction</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      html {
        scroll-behavior: smooth;
      }

      .flip-card {
        perspective: 2000px;
        transition: height 0.5s ease;
      }

      .flip-inner {
        transition: transform 0.8s ease-in-out;
        transform-style: preserve-3d;
        position: relative;
      }

      .flip-card.flipped .flip-inner {
        transform: rotateY(180deg);
      }

      .flip-front,
      .flip-back {
        backface-visibility: hidden;
        -webkit-backface-visibility: hidden;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
      }

      .flip-front {
        position: relative;
      }

      .flip-card:not(.flipped) .flip-back {
        display: none;
      }

      .flip-card.flipped .flip-front {
        display: none;
      }

      .flip-back {
        transform: rotateY(180deg);
        position: relative;
      }

      .input-field {
        background-color: #1f2937;
        color: white;
        width: 100%;
        padding: 0.5rem 1rem;
        border-radius: 0.5rem;
        outline: none;
        border: none;
        appearance: none;
        transition: all 0.3s ease-in-out;
      }

      .input-field::placeholder {
        color: #9ca3af;
      }

      .input-field:focus {
        box-shadow: 0 0 0 2px #c084fc;
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-purple-800 via-violet-900 to-gray-900 min-h-screen text-white font-sans"
  >
    <!-- Navbar -->
    <nav
      class="sticky top-0 z-50 bg-gray-900 bg-opacity-90 backdrop-blur-md shadow-md"
    >
      <div
        class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center"
      >
        <div class="text-2xl font-bold text-purple-400">ShipSmart</div>
        <ul class="flex space-x-6 text-lg font-medium text-gray-300">
          <li><a href="#home" class="hover:text-white transition">Home</a></li>
          <li>
            <a href="#predict" class="hover:text-white transition">Predict</a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Home Section -->
    <section
      id="home"
      class="w-full min-h-screen flex items-center px-8 pt-2 pb-10"
    >
      <div class="grid lg:grid-cols-2 gap-20 items-center w-full">
        <!-- Text Content -->
        <div class="space-y-8 ml-4">
          <h1 class="text-5xl font-extrabold leading-tight text-white">
            Simplify Your <span class="text-purple-400">Shipping</span> Process
          </h1>

          <p class="text-lg text-gray-300 max-w-2xl">
            Our AI-powered solution ensures accurate shipping cost predictions,
            helping artists and vendors plan smarter with confidence.
          </p>

          <!-- Feature Highlights -->
          <ul class="space-y-4 text-base text-gray-200">
            <li class="flex items-center space-x-3">
              <svg
                class="w-5 h-5 text-purple-400"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  d="M16.707 5.293a1 1 0 00-1.414 0L9 11.586 5.707 8.293a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l7-7a1 1 0 000-1.414z"
                />
              </svg>
              <span>Instant shipping cost predictions</span>
            </li>
            <li class="flex items-center space-x-3">
              <svg
                class="w-5 h-5 text-purple-400"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  d="M16.707 5.293a1 1 0 00-1.414 0L9 11.586 5.707 8.293a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l7-7a1 1 0 000-1.414z"
                />
              </svg>
              <span>AI-based route & delivery optimization</span>
            </li>
            <li class="flex items-center space-x-3">
              <svg
                class="w-5 h-5 text-purple-400"
                fill="currentColor"
                viewBox="0 0 20 20"
              >
                <path
                  d="M16.707 5.293a1 1 0 00-1.414 0L9 11.586 5.707 8.293a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l7-7a1 1 0 000-1.414z"
                />
              </svg>
              <span>Track & manage all shipments in one place</span>
            </li>
          </ul>

          <!-- Call-to-action -->
          <a
            href="#predict"
            class="inline-block px-8 py-3 bg-purple-600 hover:bg-purple-800 text-white text-base font-bold rounded-2xl transition"
          >
            Get Started
          </a>
        </div>

        <!-- Image -->
        <div class="flex justify-center">
          <img
            src="static/images/ship.png"
            alt="Shipping Illustration"
            class="w-[750px] max-w-full h-auto transition-transform duration-500 ease-in-out hover:scale-110"
          />
        </div>
      </div>
    </section>

    <!-- Predict Section -->
    <section id="predict" class="max-w-5xl mx-auto px-4 py-12">
      <div class="flip-card w-full" id="flipCard">
        <div class="flip-inner w-full h-full">
          <!-- Front -->
          <div
            class="flip-front bg-gray-950 bg-opacity-90 p-10 rounded-2xl shadow-md border border-purple-600 space-y-6"
          >
            <h2 class="text-3xl font-bold text-purple-300 text-center">
              Ready to Predict?
            </h2>
            <p class="text-center text-gray-300">
              Click below to access the shipping cost prediction form.
            </p>
            <div class="flex justify-center">
              <button
                onclick="flipCard()"
                class="px-6 py-3 bg-purple-600 hover:bg-purple-800 rounded-xl text-white font-bold transition"
              >
                Start Now
              </button>
            </div>
          </div>

          <!-- Back / Form -->
          <div
            class="flip-back bg-gray-950 bg-opacity-90 p-10 rounded-2xl shadow-md border border-purple-600 space-y-8"
          >
            <h2 class="text-2xl font-semibold text-center text-purple-300">
              Shipping Cost Prediction Form
            </h2>

            <form id="predictForm" action="/predict" method="post">
              <div class="grid md:grid-cols-2 gap-6">
                <!-- Number Inputs -->
                <input
                  type="number"
                  step="any"
                  name="artist"
                  placeholder="Artist Reputation"
                  required
                  class="input-field"
                />
                <input
                  type="number"
                  step="any"
                  name="height"
                  placeholder="Height (cm)"
                  required
                  class="input-field"
                />
                <input
                  type="number"
                  step="any"
                  name="width"
                  placeholder="Width (cm)"
                  required
                  class="input-field"
                />
                <input
                  type="number"
                  step="any"
                  name="baseShippingPrice"
                  placeholder="Base Shipping Price"
                  required
                  class="input-field"
                />
                <input
                  type="number"
                  step="any"
                  name="priceOfSculpture"
                  placeholder="Price of Sculpture"
                  required
                  class="input-field"
                />
                <input
                  type="number"
                  step="any"
                  name="weight"
                  placeholder="Weight (kg)"
                  required
                  class="input-field"
                />

                <!-- Dropdowns -->
                <select name="material" required class="input-field">
                  <option value="" disabled selected>Select Material</option>
                  <option>Aluminium</option>
                  <option>Marble</option>
                  <option>Bronze</option>
                  <option>Clay</option>
                  <option>Brass</option>
                  <option>Wood</option>
                  <option>Stone</option>
                </select>

                <select name="international" required class="input-field">
                  <option value="" disabled selected>
                    International Shipment?
                  </option>
                  <option>Yes</option>
                  <option>No</option>
                </select>

                <select name="expressShipment" required class="input-field">
                  <option value="" disabled selected>Express Shipment?</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>

                <select
                  name="installationIncluded"
                  required
                  class="input-field"
                >
                  <option value="" disabled selected>
                    Installation Included?
                  </option>
                  <option>Yes</option>
                  <option>No</option>
                </select>

                <select name="transport" required class="input-field">
                  <option value="" disabled selected>Transport Mode</option>
                  <option>Airways</option>
                  <option>Roadways</option>
                  <option>Waterways</option>
                </select>

                <select name="fragile" required class="input-field">
                  <option value="" disabled selected>Fragile Item?</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>

                <select name="customerInformation" required class="input-field">
                  <option value="" disabled selected>
                    Customer Information
                  </option>
                  <option>Wealthy</option>
                  <option>Working Class</option>
                </select>

                <select name="remoteLocation" required class="input-field">
                  <option value="" disabled selected>Remote Location?</option>
                  <option>Yes</option>
                  <option>No</option>
                </select>

                <!-- Single Month and Year Fields -->
                <select name="shipmentMonth" required class="input-field">
                  <option value="" disabled selected>Shipment Month</option>
                  <option>January</option>
                  <option>February</option>
                  <option>March</option>
                  <option>April</option>
                  <option>May</option>
                  <option>June</option>
                  <option>July</option>
                  <option>August</option>
                  <option>September</option>
                  <option>October</option>
                  <option>November</option>
                  <option>December</option>
                </select>

                <input
                  type="number"
                  name="shipmentYear"
                  placeholder="Shipment Year"
                  required
                  class="input-field"
                />
              </div>

              <div class="flex justify-between items-center mt-8">
                <button
                  type="button"
                  onclick="flipCard()"
                  class="text-sm text-purple-400 underline hover:text-purple-300 transition"
                >
                  ← Go Back
                </button>
                <button
                  type="submit"
                  class="bg-purple-600 hover:bg-purple-800 text-white font-bold py-3 px-6 rounded-xl transition"
                >
                  Predict Shipping Cost
                </button>
              </div>
            </form>

            <!-- Result Display -->
            <div id="resultDisplay" class="hidden text-center pt-8">
              <h3 class="text-2xl font-bold text-green-400 mb-4">
                Predicted Shipping Cost
              </h3>
              <p id="costOutput" class="text-4xl font-extrabold text-white"></p>
              <button
                onclick="resetForm()"
                class="mt-6 px-6 py-3 bg-purple-600 hover:bg-purple-800 rounded-xl text-white font-semibold transition"
              >
                Predict Another
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      function flipCard() {
        document.getElementById("flipCard").classList.toggle("flipped");
      }

      const form = document.getElementById("predictForm");
      const resultDisplay = document.getElementById("resultDisplay");
      const costOutput = document.getElementById("costOutput");

      form.addEventListener("submit", function (e) {
        e.preventDefault();

        fetch("/predict", {
          method: "POST",
          body: new FormData(form),
        })
          .then((res) => res.json())
          .then((data) => {
            costOutput.textContent = `₹ ${data.estimated_shipping_cost.toFixed(
              2
            )}`;
            form.classList.add("hidden");
            resultDisplay.classList.remove("hidden");
          })
          .catch(() => {
            costOutput.textContent = "Something went wrong.";
            form.classList.add("hidden");
            resultDisplay.classList.remove("hidden");
          });
      });

      function resetForm() {
        form.reset();
        form.classList.remove("hidden");
        resultDisplay.classList.add("hidden");
      }
    </script>
  </body>
</html>
